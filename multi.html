<!DOCTYPE html>
<html lang="kr">

<head>
    <meta charset="UTF-8">
    <title>멀티미디어와 관련된 태그</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>

<body>


    <div class="youtube"  data-url="b6nCWvzVbH0"></div>
    <div class="youtube" data-url="CB5gUfDXC8o"></div>
<!--  -->

    <div class="pkg">
       
    </div>

    <!--youtube-->
    <!-- <iframe id="yy" width="500" height="255" src="https://www.youtube.com/embed/b6nCWvzVbH0" title="YouTube video player"
        frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
        allowfullscreen
        onclick="onPlayerStateChange()"">
    </iframe> -->

    <!--audio-->
    <audio id="ss" controls src="../podowon/asset/audio/-Amazing Grace (My Chains Are Gone).mp3" autoplay >
        브라우저가 audio 태그를 지원하지 않을 때 표시되는 문장
    </audio>



</body>


<script language="javascript">


      for (var i = 0; i < 11; i++) {
            var dd = document.createElement("div");
            for (var i = 1; i <= 10; i++) {
                var img_src = 'asset/image/digital/감사/감사-' + i + '.png';
                 $(".pkg").append('<img src=' + img_src + '>');
            }
           
            console.log(dd);
        }



    //youtube API 불러오는 부분
    var tag = document.createElement('script');
    tag.src = "https://www.youtube.com/iframe_api";
    var firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

    //플레이어 변수 설정

    var idAry = [] , objAry=[]; urlAry = [];

    $(".youtube").each(function (i) {
        $(this).attr("id", "player" + i); // 아이디 값 추가
        idAry.push("player" + i); // 아이디 값 배열에 넣기
        urlAry.push($(this).data("url")); // 동영상 url 배열에 넣기
    });

    function onYouTubeIframeAPIReady() { // 이 함수가 동영상 iframe을 만들어주는 함수이다.
            for (var i = 0; i < $(".youtube").length; i++) { // 동영상을 원하는만큼 만들어주기 위해.
                var player;
                var playerId = idAry[i];
                player = new YT.Player(playerId, {
                    videoId: urlAry[i],
                    playerVars: {
                        rel: 0
                    },
                    events: {
                    'onReady': onPlayerReady,//로딩중에 이벤트 실행한다
                    'onStateChange': onPlayerStateChange,//플레이어 상태 변화 시 이벤트를 실행한다.
                   

                }
                });
                objAry.push(player);
           
                // 가장 중요한 대목! 변수 player에 각 동영상 마다 만들어진 객체를 objAry 배열에 넣어준다.
                // 그래야 후에 원하는 동영상 제어를 할 수 있다.
            }
        }

   
    // function onYouTubeIframeAPIReady() {
    //     player = new YT.Player('player', {
    //         //width&height를 설정할 수 있으나, 따로 css영역으로 뺐다.
    //         videoId: 'b6nCWvzVbH0',
    //        playerVars: {
    //         	'rel': 0,    //연관동영상 표시여부(0:표시안함)
    //        },
    //         events: {
    
    //             'onReady': onPlayerReady,//로딩중에 이벤트 실행한다
    //             'onStateChange': onPlayerStateChange//플레이어 상태 변화 시 이벤트를 실행한다.
    //         }
    //     });
    //     objAry.push(player);

    //     player2 = new YT.Player('player2', {
    //         //width&height를 설정할 수 있으나, 따로 css영역으로 뺐다.
    //         videoId: 'CB5gUfDXC8o',

    //         events: {

    //             'onReady': onPlayerReady,//로딩중에 이벤트 실행한다
    //             'onStateChange': onPlayerStateChange//플레이어 상태 변화 시 이벤트를 실행한다.
    //         }
    //     });
    // }

    function onPlayerReady(event) {
        const ss = document.getElementById('ss');
        //로딩된 후에 실행될 동작을 작성한다(소리 크기,동영상 속도를 미리 지정하는 것등등...)
        ss.pause();
     


    }

    var done = false;


    function onPlayerStateChange(event) {
   
      
  
        if (event.data == YT.PlayerState.PLAYING && !done) {
            done = true;
            
            
          

        }

       
         
    }


</script>

</html>